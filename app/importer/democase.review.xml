<?xml version="1.0" encoding="UTF-8"?>
<!--
AttributeDefintion types = richstring, text, notype, json, link, string, mxl, longtext, image, boolean, number, enumeration or date

One entit defintion can only belong to one casedefintnion, meaning a entityDefinition can be used only once
-->
<SACMDefinition>

<!-- ######################################################################################################################################## -->
<!-- ####### Settings ################################################################################################################# -->
<!-- ######################################################################################################################################## -->

    <Settings 
        mayCreateWorksapces="['Administrators']"
        mayCreateGroups="['Administrators']" 
        mayCreateUsers="['Administrators', 'UmcgProfessionals']"
        mayEditUserDefinition="['Administrators', 'UmcgProfessionals']"/>

<!-- ######################################################################################################################################## -->
<!-- ####### UserDefinition ################################################################################################################# -->
<!-- ######################################################################################################################################## -->

    <UserDefinition>
        <AttributeDefinition id="patientnr" type="string" multiplicity="maximalOne" description="Patient number"/>
        <AttributeDefinition id="firstname" type="string" multiplicity="maximalOne" description="Firstname"/>
        <AttributeDefinition id="lastname" type="string" multiplicity="maximalOne" description="Lastname"/>       
        <AttributeDefinition id="birthdate" type="date" multiplicity="maximalOne" description="Birthdate"/>
        <DerivedAttributeDefinition id="age" expression="(Today - birthdate)/365" description="Age"/>
        <AttributeDefinition id="gender" type="enumeration" multiplicity="maximalOne" description="Gender">
            <EnumerationOption value="MALE" description="Male"/>
            <EnumerationOption value="FEMALE" description="Female"/>
            <EnumerationOption value="UNKNOWN" description="Prefer not to say"/>
        </AttributeDefinition>
        <AttributeDefinition id="maritalstatus" type="enumeration" multiplicity="maximalOne" description="Marital status">
            <EnumerationOption value="SINGLE" description="Single"/>
            <EnumerationOption value="MARRIED" description="Married"/>
            <EnumerationOption value="WIDOWED" description="Widowed"/>
            <EnumerationOption value="SEPARATED" description="Separated"/>
            <EnumerationOption value="DIVORCED" description="Divorced"/>
            <EnumerationOption value="UNKNOWN" description="Prefer not to say"/>
        </AttributeDefinition>
        <AttributeDefinition id="educationallevel" type="enumeration" multiplicity="maximalOne" description="Educational level">
            <EnumerationOption value="1" description="Early childhood"/>
            <EnumerationOption value="2" description="Primary education"/>
            <EnumerationOption value="3" description="Lower secondary education"/>
            <EnumerationOption value="4" description="Upper secondary education"/>
            <EnumerationOption value="5" description="Post-secondary non-tertiary education"/>
            <EnumerationOption value="6" description="Short-cycle tertiary education"/>
            <EnumerationOption value="7" description="Bachelor"/>
            <EnumerationOption value="8" description="Master"/>
            <EnumerationOption value="9" description="Doctoral"/>
            <EnumerationOption value="10" description="Prefer not to say"/>
        </AttributeDefinition>
        <AttributeDefinition id="culturallevel" type="enumeration" multiplicity="maximalOne" description="Socio-cultural level">
            <EnumerationOption value="LOW" description="Low"/>
            <EnumerationOption value="MEDIUM" description="Medium"/>
            <EnumerationOption value="HIGH" description="High"/>
            <EnumerationOption value="UNKNOWN" description="Prefer not to say"/>
        </AttributeDefinition>
        <AttributeDefinition id="phone" type="string" multiplicity="maximalOne" description="Phone"/>
        <AttributeDefinition id="mobile" type="string" multiplicity="maximalOne" description="Mobile"/>
        <AttributeDefinition id="language" type="enumeration" multiplicity="maximalOne" description="Language">
            <!-- ISO 2 Letter Language Codes -->
            <EnumerationOption value="EN" description="English"/>
            <EnumerationOption value="NL" description="Dutch"/>
            <EnumerationOption value="IW" description="Hebrew"/>
            <EnumerationOption value="ES" description="Spanish"/>
            <EnumerationOption value="CA" description="Catalan"/>
            <EnumerationOption value="RU" description="Russian"/>
        </AttributeDefinition>
    </UserDefinition>

<!-- ######################################################################################################################################## -->
<!-- ####### Admin Memberships ############################################################################################################## -->
<!-- ######################################################################################################################################## -->

    <Administrator>
        <Membership principalId="integrationenv"/>
    </Administrator>

<!-- ######################################################################################################################################## -->
<!-- ####### IntegrationENV User ############################################################################################################ -->
<!-- ######################################################################################################################################## -->

    <User id="integrationenv" staticId="integrationenv" email="integrationenv@connecare.eu">
        <Attribute attributeDefinitionId="firstname" values="['Inegration']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Enviroment']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>

<!-- ######################################################################################################################################## -->
<!-- ####### Umcg / Groningen################################################################################################################ -->
<!-- ######################################################################################################################################## -->

    <Group id="UmcgProfessionals" staticId="2c9480885d1737ef015d74deed260006" description="Umcg Professional">
        <Administrator principalId="Me"/>
        <Membership principalId="UmcgAdminOfficers"/>
        <Membership principalId="UmcgAnesthesiologists"/>
        <Membership principalId="UmcgCaseManagers"/>
        <Membership principalId="UmcgClinicians"/>
        <Membership principalId="UmcgDataManagers"/>
        <Membership principalId="UmcgLabTechnicians"/>
        <Membership principalId="UmcgLocalPulmonologists"/>
        <Membership principalId="UmcgNurses"/>
        <Membership principalId="UmcgNutritionists"/>
        <Membership principalId="UmcgPhysicians"/>
        <Membership principalId="UmcgPhysiotherapists"/>
        <Membership principalId="UmcgPrimaryCareClinicians"/>
        <Membership principalId="UmcgPsychologists"/>
        <Membership principalId="UmcgRNSTs"/>
        <Membership principalId="UmcgSocialCareers"/>
        <Membership principalId="UmcgAdmins"/>
    </Group>
    <Group staticId="a412ac82923a11e7bd0c0242ac120002" id="UmcgAdminOfficers" description="Umcg Admin Officer">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412ac7c923a11e7bd0c0242ac120002" id="UmcgAnesthesiologists" description="Umcg Anesthesiologist">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412ac70923a11e7bd0c0242ac120002" id="UmcgCaseManagers" description="Umcg Case Manager">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412ac64923a11e7bd0c0242ac120002" id="UmcgClinicians" description="Umcg Clinician">
        <Administrator principalId="Me"/>
        <Membership principalId="matthewr"/>
        <Membership principalId="schultzj"/>
        <Membership principalId="michelf"/>        
    </Group>
    <Group staticId="a412acba923a11e7bd0c0242ac120002" id="UmcgDataManagers" description="Umcg Data Manager">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412acb0923a11e7bd0c0242ac120002" id="UmcgLabTechnicians" description="Umcg Lab Technician">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412acb5923a11e7bd0c0242ac120002" id="UmcgLocalPulmonologists" description="Umcg Local Pulmonologists">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412ac76923a11e7bd0c0242ac120002" id="UmcgNurses" description="Umcg Nurse">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412ac99923a11e7bd0c0242ac120002" id="UmcgNutritionists" description="Umcg Nutritionist">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412ac88923a11e7bd0c0242ac120002" id="UmcgPhysicians" description="Umcg Physician">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412ac94923a11e7bd0c0242ac120002" id="UmcgPhysiotherapists" description="Umcg Physiotherapist">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412aca9923a11e7bd0c0242ac120002" id="UmcgPrimaryCareClinicians" description="Umcg Primary Care Clinician">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412ac9f923a11e7bd0c0242ac120002" id="UmcgPsychologists" description="Umcg Psychologist">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412ac8e923a11e7bd0c0242ac120002" id="UmcgRNSTs" description="Umcg RNST">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412aca4923a11e7bd0c0242ac120002" id="UmcgSocialCareers" description="Umcg Social Career">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412ac6b923a11e7bd0c0242ac120002" id="UmcgAdmins" description="Umcg Admin">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="a412ac01923a11e7bd0c0242ac120002" id="UmcgPatients" description="Umcg Patient">
        <Administrator principalId="Me"/>
        <Membership principalId="hopkinsc"/>
        <Membership principalId="hayesk"/>
        <Membership principalId="williamst"/>
        <Membership principalId="vargiue"/>
    </Group>


	<User id="matthewr" staticId="2c940c085e765068015e76786adf0070" email="russell.matthew@professionals.umgc.org">
        <Attribute attributeDefinitionId="firstname" values="['Matthew']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Russell']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>
	<User id="schultzj" staticId="2c940c085e765068015e767d84980080" email="jerry.schultz@professionals.umgc.org">
        <Attribute attributeDefinitionId="firstname" values="['Jerry']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Schultz']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>

    <User id="hopkinsc" staticId="2c940c085e765068015e7704c2540120" email="christine.hopkins@patients.umgc.org">
        <Attribute attributeDefinitionId="firstname" values="['Christine']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Hopkins']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>
    <User id="hayesk" staticId="2c940c085e765068015e77087a950130" email="kathryn.hayes@patients.umgc.org">
        <Attribute attributeDefinitionId="firstname" values="['Kathryn']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Hayes']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>
	<User id="williamst" staticId="2c940c085e765068015e770b710b0140" email="thomas.williams@patients.umgc.org">
        <Attribute attributeDefinitionId="firstname" values="['Thomas']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Williams']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>

    <User id="michelf" staticId="2c9480845bee03e7015bfcad28990010" email="felix.michelf@tum.de">
        <Attribute attributeDefinitionId="firstname" values="['Felix']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Michel']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>
    <User id="vargiue" staticId="2c9480845bee03e7015bfcad7d0e0011" email="eloisa.vargiu@eurecat.org">
        <Attribute attributeDefinitionId="firstname" values="['Eloisa']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Vargiu']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>

    <Workspace id="Umcg" staticId="2c9480885d1737ef015d74deed260006" description="Umcg (Groningen)">
        <Contributor principalId="UmcgProfessionals"/>
        <Administrator principalId="Administrators"/>
        <Writer principalId="Administrators"/>
        <Client principalId="UmcgPatients"/>

        <include src="case.groningen.cs2.review.xml">    

    </Workspace>



<!-- ######################################################################################################################################## -->
<!-- ####### Execution ###################################################################################################################### -->
<!-- ######################################################################################################################################## -->

    <!--This executes the case for testing-->
    <Execution>        
        <Action id="CompleteHumanTask" processId="SelectPatient">
            <TaskParam path="Patient"  userValue="connecare-patient"/>
            <TaskParam path="Owner"  userValue="connecare-clinician"/>
        </Action>
        <Action id="CompleteHumanTask" processId="Lace">
            <TaskParam path="Lace.lace1"  values="['2']"/>
            <TaskParam path="Lace.lace2"  values="['1']"/>
            <TaskParam path="Lace.lace3"  values="['1']"/>
            <TaskParam path="Lace.lace4"  values="['1']"/>
            <TaskParam path="Lace.lace5"  values="['1']"/>
            <TaskParam path="Lace.lace6"  values="['1']"/>
            <TaskParam path="Lace.lace7"  values="['2']"/>
            <TaskParam path="Lace.lace8"  values="['2']"/>
            <TaskParam path="Lace.lace9"  values="['2']"/>
            <TaskParam path="Lace.lace10" values="['2']"/>
            <TaskParam path="Lace.lace11" values="['2']"/>
            <TaskParam path="Lace.lace12" values="['3']"/>
            <TaskParam path="Lace.lace13" values="['3']"/>
            <TaskParam path="Lace.lace14" values="['0']"/>
            <TaskParam path="Lace.lace15" values="['4']"/>
            <TaskParam path="Lace.lace16" values="['6']"/>                
            <TaskParam path="Lace.lace18" values="['3']"/> 
        </Action>
        <Action id="CompleteHumanTask" processId="Barthel">
            <TaskParam path="Barthel.barthel1"  values="['5']"/>
            <TaskParam path="Barthel.barthel2"  values="['0']"/>
            <TaskParam path="Barthel.barthel3"  values="['0']"/>
            <TaskParam path="Barthel.barthel4"  values="['0']"/>
            <TaskParam path="Barthel.barthel5"  values="['5']"/>
            <TaskParam path="Barthel.barthel6"  values="['10']"/>
            <TaskParam path="Barthel.barthel7"  values="['5']"/>
            <TaskParam path="Barthel.barthel8"  values="['0']"/>
            <TaskParam path="Barthel.barthel9"  values="['15']"/>
            <TaskParam path="Barthel.barthel10" values="['10']"/>
        </Action>
        <Action id="CompleteHumanTask" processId="PhysicalActivityPrescription">
            <TaskParam path="PhysicalActivity.phactp1"  values="['2017-06-19T15:36:21.000-0000']"/>
            <TaskParam path="PhysicalActivity.phactp2"  values="['2018-06-21T15:36:21.000-0000']"/>
            <TaskParam path="PhysicalActivity.phactp3"  values="[150]"/>
            <TaskParam path="PhysicalActivity.phactp4"  values="[15]"/>
            <TaskParam path="PhysicalActivity.phactp5"  values="[5]"/>
            <TaskParam path="PhysicalActivity.phactp6"  values="[10]"/>
            <TaskParam path="PhysicalActivity.phactp7"  values="[5]"/>
        </Action>
        <Action id="CompleteAutomatedTask" processId="PhysicalActivityExecution">
            <TaskParam path="PhysicalActivity.phactpx"  values="[{'stepsFollowing': [{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'lowFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'mediumFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'highFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'noActivityFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}]}]"/>
        </Action>
        <Action id="CreateAlert" 
            processId="PhysicalActivityExecution" 
            expireDate="2018-06-21T15:36:21.000-0000"
            text="Alert Message"
            data="{'alertType':'some type', 'application':'Run App', 'priorityLevel':'LOW', 'status':'ACT', 'paramName':'steps per day', 'paramValue':'12', 'minThreshold':'5',  'maxThreshold':'8'}">
        </Action>
        <Action id="CompleteHumanTask" processId="PatientMonitoryPrescription">
            <TaskParam path="PatientMonitory.pmp1_name"  values="['WEIGHT']"/>
            <TaskParam path="PatientMonitory.pmp2_alertmin"  values="[50]"/>
            <TaskParam path="PatientMonitory.pmp3_alertmax"  values="[150]"/>
            <TaskParam path="PatientMonitory.pmp4_alertfreq"  values="[2]"/>
            <TaskParam path="PatientMonitory.pmp5_alertfrequnit"  values="['DAYS']"/>
            <TaskParam path="PatientMonitory.pmp6_comments"  values="['Some random comment']"/>
            <TaskParam path="PatientMonitory.pmp7_freq"  values="[5]"/>
            <TaskParam path="PatientMonitory.pmp8_freqqunit"  values="['WEEKS']"/>
            <TaskParam path="PatientMonitory.pmp9_maxdelay"  values="[100]"/>
            <TaskParam path="PatientMonitory.pmp10_startdate"  values="['2017-06-09 14:54:53.0']"/>
            <TaskParam path="PatientMonitory.pmp11_enddate"  values="['2019-06-09 14:54:53.0']"/>
            <TaskParam path="PatientMonitory.pmp12_timeslot"  values="['BREAKFAST', 'DINNER', 'BEFORESLEEP']"/>
            <TaskParam path="PatientMonitory.pmp13_timehour"  values="[]"/>
        </Action>
        <!--
        <Action id="CompleteAutomatedTask" processId="PatientMonitoryExecution">
            <TaskParam path="PatientMonitory.pmpx"  values="[{'stepsFollowing': [{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'lowFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'mediumFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'highFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'noActivityFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}]}]"/>
        </Action>
        -->
    </Execution>

</SACMDefinition>


