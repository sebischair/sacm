<?xml version="1.0" encoding="UTF-8"?>
<!--
AttributeDefintion types = richstring, text, notype, json, link, string, mxl, longtext, image, boolean, number, enumeration or date

One entit defintion can only belong to one casedefintnion, meaning a entityDefinition can be used only once
-->
<SACMDefinition>
    
    <UserDefinition>
        <AttributeDefinition id="patientnr" type="string" multiplicity="maximalOne" description="Patient number"/>
        <AttributeDefinition id="firstname" type="string" multiplicity="maximalOne" description="Firstname"/>
        <AttributeDefinition id="lastname" type="string" multiplicity="maximalOne" description="Lastname"/>       
        <AttributeDefinition id="birthdate" type="date" multiplicity="maximalOne" description="Birthdate"/>
        <DerivedAttributeDefinition id="age" expression="(Today - birthdate)/365" description="Age"/>
        <AttributeDefinition id="gender" type="enumeration" multiplicity="maximalOne" description="Gender">
            <EnumerationOption value="MALE" description="Male"/>
            <EnumerationOption value="FEMALE" description="Female"/>
            <EnumerationOption value="UNKNOWN" description="Prefer not to say"/>
        </AttributeDefinition>
        <AttributeDefinition id="maritalstatus" type="enumeration" multiplicity="maximalOne" description="Marital status">
            <EnumerationOption value="SINGLE" description="Single"/>
            <EnumerationOption value="MARRIED" description="Married"/>
            <EnumerationOption value="WIDOWED" description="Widowed"/>
            <EnumerationOption value="SEPARATED" description="Separated"/>
            <EnumerationOption value="DIVORCED" description="Divorced"/>
            <EnumerationOption value="UNKNOWN" description="Prefer not to say"/>
        </AttributeDefinition>
        <AttributeDefinition id="educationallevel" type="enumeration" multiplicity="maximalOne" description="Educational level">
            <EnumerationOption value="1" description="Early childhood"/>
            <EnumerationOption value="2" description="Primary education"/>
            <EnumerationOption value="3" description="Lower secondary education"/>
            <EnumerationOption value="4" description="Upper secondary education"/>
            <EnumerationOption value="5" description="Post-secondary non-tertiary education"/>
            <EnumerationOption value="6" description="Short-cycle tertiary education"/>
            <EnumerationOption value="7" description="Bachelor"/>
            <EnumerationOption value="8" description="Master"/>
            <EnumerationOption value="9" description="Doctoral"/>
            <EnumerationOption value="10" description="Prefer not to say"/>
        </AttributeDefinition>
        <AttributeDefinition id="culturallevel" type="enumeration" multiplicity="maximalOne" description="Socio-cultural level">
            <EnumerationOption value="LOW" description="Low"/>
            <EnumerationOption value="MEDIUM" description="Medium"/>
            <EnumerationOption value="HIGH" description="High"/>
            <EnumerationOption value="UNKNOWN" description="Prefer not to say"/>
        </AttributeDefinition>
        <AttributeDefinition id="phone" type="string" multiplicity="maximalOne" description="Phone"/>
        <AttributeDefinition id="mobile" type="string" multiplicity="maximalOne" description="Mobile"/>
        <AttributeDefinition id="language" type="enumeration" multiplicity="maximalOne" description="Language">
            <!-- ISO 2 Letter Language Codes -->
            <EnumerationOption value="EN" description="English"/>
            <EnumerationOption value="NL" description="Dutch"/>
            <EnumerationOption value="IW" description="Hebrew"/>
            <EnumerationOption value="ES" description="Spanish"/>
            <EnumerationOption value="CA" description="Catalan"/>
        </AttributeDefinition>
    </UserDefinition>
    
    <!--Assuta Groups and Users-->
    <Group id="Assuta" staticId="2c9480845bee03e7015bfc03da610001" description="All users of the hospital in Assuta">
        <Administrator principalId="Me"/>
        <Membership principalId="Assuta-Doctors"/>
        <Membership principalId="Assuta-Patients"/>
    </Group>

    <Group id="Assuta-Doctors" staticId="2c9480845bee03e7015bfc05a3fc0003" description="All doctors of the hospital in Assuta">
        <Administrator principalId="Me"/>
        <Membership principalId="connecare-clinician"/>
        <Membership principalId="user5"/>
        <Membership principalId="user6"/>
        <Membership principalId="user7"/>
    </Group>

    <Group id="Assuta-Patients" staticId="2c9480845bee03e7015bfc056b070002" description="All doctors of the hospital in Assuta">
        <Administrator principalId="Me"/>
        <Membership principalId="connecare-patient"/>
        <Membership principalId="user1"/>
        <Membership principalId="user2"/>
        <Membership principalId="user3"/>
    </Group>

    <!--Usernames from https://uinames.com/
        https://uinames.com/api/?region=United%20States&amount=25&maxlen=25 -->

    <!-- Doctors -->
    <User id="connecare-clinician" staticId="2c9480845bee03e7015bfcad28990010" email="juanmanuel.fernandez@eurecat.org">
        <Attribute attributeDefinitionId="firstname" values="['Juan']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Fernandez']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08']"/> 
    </User>
    <User id="user5" staticId="ff8081815acbff63015acc019b690002" email="user5@mydomain.org">
        <Attribute attributeDefinitionId="firstname" values="['Troy']"/> 
        <Attribute attributeDefinitionId="lastname" values="['McClure']"/>        
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08']"/> 
    </User>
    <User id="user6" staticId="ff8081815acbff63015acc01e6130003" email="user6@mydomain.org">
        <Attribute attributeDefinitionId="firstname" values="['Maude']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Flanders']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08']"/> 
    </User>
    <User id="user7" staticId="ff8081815acbff63015acc021f890004" email="user7@mydomain.org">
        <Attribute attributeDefinitionId="firstname" values="['Carl']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Carlson']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08']"/> 
    </User>

    <!-- Patients -->
    <User id="connecare-patient" staticId="2c9480845bee03e7015bfcad7d0e0011" email="eloisa.vargiu@eurecat.org">
        <Attribute attributeDefinitionId="firstname" values="['Eloisa']"/> 
        <Attribute attributeDefinitionId="lastname" values="['vargiu']"/> 
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08']"/> 
    </User>
    <User id="user1" staticId="2c9880835ac881b5015ac8a2d7150011" email="user0@mydomain.org">
        <Attribute attributeDefinitionId="firstname" values="['Lionel']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Hutz']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08']"/> 
    </User>                 
    <User id="user2" staticId="2c9880835ac881b5015ac8a3c37c0012" email="user1@mydomain.org">
        <Attribute attributeDefinitionId="firstname" values="['Helen']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Lovejoy']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08']"/> 
    </User>       
    <User id="user3" staticId="2c9880835ac881b5015ac8a40e360013" email="user2@mydomain.org">
        <Attribute attributeDefinitionId="firstname" values="['Lenny']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Leonard']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08']"/> 
    </User>          


    <!--Assuta Worksapce-->
    <Workspace id="Assuta Hospital" description="All model elements and instances of the hospital in Assuta">
        <Reader principalId="Assuta"/>
        <Writer principalId="Assuta"/>
        <Administrator principalId="Me"/>

        <!-- Case Data Defintion -->   
        <EntityDefinition id="CaseData" description="">
            <AttributeDefinition id="Patient" type="Link.Users.Assuta-Patients" description="Patient"/>
            <AttributeDefinition id="Owner" type="Link.Users.Assuta-Doctors" description="Owner"/>
            <AttributeDefinition id="Lace" type="Link.EntityDefinition.Lace" description="Lace"/>
            <AttributeDefinition id="Barthel" type="Link.EntityDefinition.Barthel" description="Barthel"/>        
            <AttributeDefinition id="PhysicalActivity" type="Link.EntityDefinition.PhysicalActivity" description="PhysicalActivity"/>
        </EntityDefinition>

        <EntityDefinition id="Lace" description="Lace">
            <AttributeDefinition id="lace1" type="enumeration" multiplicity="maximalOne" description="Length of Stay (including day of admission and discharge)">
                <EnumerationOption value="1" description="1 day"/>
                <EnumerationOption value="2" description="2 days"/>
                <EnumerationOption value="3" description="3 days"/>
                <EnumerationOption value="4" description="4-6 days"/>
                <EnumerationOption value="5" description="7-13 days"/>
                <EnumerationOption value="7" description="14 or more days"/>
            </AttributeDefinition>        
            <AttributeDefinition id="lace2" type="enumeration" multiplicity="maximalOne" description="Was the patient admitted to hospital via the emergency department?">
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="1" description="Yes"/>
            </AttributeDefinition> 
            <AttributeDefinition id="lace3" type="enumeration" multiplicity="maximalOne" description="Conditions - Previous myocardial infarction">
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="1" description="Yes"/>
            </AttributeDefinition> 
            <AttributeDefinition id="lace4" type="enumeration" multiplicity="maximalOne" description="Conditions - Cerebrovascular disease">
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="1" description="Yes"/>
            </AttributeDefinition> 
            <AttributeDefinition id="lace5" type="enumeration" multiplicity="maximalOne" description="Conditions - Peripheral vascular disease">
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="1" description="Yes"/>
            </AttributeDefinition> 
            <AttributeDefinition id="lace6" type="enumeration" multiplicity="maximalOne" description="Conditions - Diabetes without complications">
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="1" description="Yes"/>
            </AttributeDefinition> 
            <AttributeDefinition id="lace7" type="enumeration" multiplicity="maximalOne" description="Conditions - Congestive heart failure">
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="2" description="Yes"/>
            </AttributeDefinition> 
            <AttributeDefinition id="lace8" type="enumeration" multiplicity="maximalOne" description="Conditions - Diabetes with end organ damage">
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="2" description="Yes"/>
            </AttributeDefinition> 
            <AttributeDefinition id="lace9" type="enumeration" multiplicity="maximalOne" description="Conditions – Chronic pulmonary disease">
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="2" description="Yes"/>
            </AttributeDefinition> 
            <AttributeDefinition id="lace10" type="enumeration" multiplicity="maximalOne" description="Conditions – Mild liver or renal disease">
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="2" description="Yes"/>
            </AttributeDefinition> 
            <AttributeDefinition id="lace11" type="enumeration" multiplicity="maximalOne" description="Conditions – Any tumor (including lymphoma or leukemia)">
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="2" description="Yes"/>
            </AttributeDefinition> 
            <AttributeDefinition id="lace12" type="enumeration" multiplicity="maximalOne" description="Conditions - Dementia">
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="3" description="Yes"/>
            </AttributeDefinition> 
            <AttributeDefinition id="lace13" type="enumeration" multiplicity="maximalOne" description="Conditions – Connective tissue disease">    
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="3" description="Yes"/>
            </AttributeDefinition>     
            <AttributeDefinition id="lace14" type="enumeration" multiplicity="maximalOne" description="Conditions – AIDS">  
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="4" description="Yes"/>
            </AttributeDefinition>       
            <AttributeDefinition id="lace15" type="enumeration" multiplicity="maximalOne" description="Conditions – Moderate or severe liver or renal disease">
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="4" description="Yes"/>
            </AttributeDefinition> 
            <AttributeDefinition id="lace16" type="enumeration" multiplicity="maximalOne" description="Conditions – Metastatic solid tumor">
                <EnumerationOption value="0" description="No"/>
                <EnumerationOption value="6" description="Yes"/>
            </AttributeDefinition> 
            <DerivedAttributeDefinition id="lace17" expression="number(lace3,0)+number(lace4,0)+number(lace5,0)+number(lace6,0)+number(lace7,0)+number(lace8,0)+number(lace9,0)+number(lace10,0)+number(lace11,0)+number(lace12,0)+number(lace13,0)+number(lace14,0)+number(lace15,0)+number(lace16,0)" description="Comorbidities"/>
            <AttributeDefinition id="lace18" type="enumeration" multiplicity="maximalOne" description="Emergency department visits (six months prior to admission)">
                <EnumerationOption value="0" description="0 visits"/>
                <EnumerationOption value="1" description="1 visit"/>
                <EnumerationOption value="2" description="2 visits"/>            
                <EnumerationOption value="3" description="3 visits"/>
                <EnumerationOption value="4" description="4 or more visits"/>
            </AttributeDefinition>  
            <DerivedAttributeDefinition id="lace19" expression="number(lace1,0)+number(lace2,0)+lace17+number(lace18,0)" description="LACE Score Risk of Readmission"/>  
        </EntityDefinition>

        <EntityDefinition id="Barthel" description="Barthel">
            <AttributeDefinition id="barthel1" type="enumeration" multiplicity="maximalOne" description="FEEDING">
                <EnumerationOption value="0" description="unable"/>
                <EnumerationOption value="5" description="needs help cutting, spreading butter, etc., or requires modified diet"/>
                <EnumerationOption value="10" description="independent"/>
            </AttributeDefinition>        
            <AttributeDefinition id="barthel2" type="enumeration" multiplicity="maximalOne" description="BATHING">
                <EnumerationOption value="0" description="dependent"/>
                <EnumerationOption value="5" description="independent (or in shower)"/>
            </AttributeDefinition>   
            <AttributeDefinition id="barthel3" type="enumeration" multiplicity="maximalOne" description="GROOMING">
                <EnumerationOption value="0" description="needs to help with personal care"/>
                <EnumerationOption value="5" description="independent face/hair/teeth/shaving (implements provided)"/>
            </AttributeDefinition>   
            <AttributeDefinition id="barthel4" type="enumeration" multiplicity="maximalOne" description="DRESSING">
                <EnumerationOption value="0" description="dependent"/>
                <EnumerationOption value="5" description="needs help but can do about half unaided"/>
                <EnumerationOption value="10" description="independent (including buttons, zips, laces, etc.)"/>
            </AttributeDefinition>   
            <AttributeDefinition id="barthel5" type="enumeration" multiplicity="maximalOne" description="BOWELS">
                <EnumerationOption value="0" description="incontinent (or needs to be given enemas)"/>
                <EnumerationOption value="5" description="occasional accident"/>
                <EnumerationOption value="10" description="continent"/>
            </AttributeDefinition>   
            <AttributeDefinition id="barthel6" type="enumeration" multiplicity="maximalOne" description="BLADDER">
                <EnumerationOption value="0" description="incontinent, or catheterized and unable to manage alone"/>
                <EnumerationOption value="5" description="occasional accident"/>
                <EnumerationOption value="10" description="continent"/>
            </AttributeDefinition>   
            <AttributeDefinition id="barthel7" type="enumeration" multiplicity="maximalOne" description="TOILET USE">
                <EnumerationOption value="0" description="dependent"/>
                <EnumerationOption value="5" description="needs some help, but can do something alone"/>            
                <EnumerationOption value="10" description="independent (on and off, dressing, wiping)"/>
            </AttributeDefinition>   
            <AttributeDefinition id="barthel8" type="enumeration" multiplicity="maximalOne" description="TRANSFERS (BED TO CHAIR AND BACK)">
                <EnumerationOption value="0" description="unable, no sitting balance"/>
                <EnumerationOption value="5" description="major help (one or two people, physical), can sit"/>
                <EnumerationOption value="10" description="minor help (verbal or physical)"/>
                <EnumerationOption value="15" description="independent"/>
            </AttributeDefinition>   
            <AttributeDefinition id="barthel9" type="enumeration" multiplicity="maximalOne" description="MOBILITY (ON LEVEL SURFACES)">
                <EnumerationOption value="0" description="immobile or < 50 yards"/>
                <EnumerationOption value="5" description="wheelchair independent, including corners, > 50 yards"/>
                <EnumerationOption value="10" description="walks with help of one person (verbal or physical) > 50 yards"/>
                <EnumerationOption value="15" description="independent (but may use any aid; for example, stick) > 50 yards"/>
            </AttributeDefinition>   
            <AttributeDefinition id="barthel10" type="enumeration" multiplicity="maximalOne" description="STAIRS">
                <EnumerationOption value="0" description="unable"/>
                <EnumerationOption value="5" description="needs help (verbal, physical, carrying aid)"/>
                <EnumerationOption value="10" description="independent"/>
            </AttributeDefinition>   
            <DerivedAttributeDefinition id="barthel11" expression="number(barthel1,0)+number(barthel2,0)+number(barthel3,0)+number(barthel4,0)+number(barthel5,0)+number(barthel6,0)+number(barthel7,0)+number(barthel8,0)+number(barthel9,0)+number(barthel10,0)" description="Barthel Index"/>  
        </EntityDefinition>

        <EntityDefinition id="PhysicalActivity" description="Physical Activity">
            <AttributeDefinition id="phactp1" type="date" multiplicity="maximalOne" description="Start date"/>
            <AttributeDefinition id="phactp2" type="date" multiplicity="maximalOne" description="End date"/>       
            <AttributeDefinition id="phactp3" type="number" multiplicity="maximalOne" description="Number of steps daily"/>       
            <AttributeDefinition id="phactp4" type="number" multiplicity="maximalOne" description="Minutes of low level activity daily"/>       
            <AttributeDefinition id="phactp5" type="number" multiplicity="maximalOne" description="Minutes of medium level activity daily"/>       
            <AttributeDefinition id="phactp6" type="number" multiplicity="maximalOne" description="Minutes of high level activity daily"/> 
            <AttributeDefinition id="phactp7" type="number" multiplicity="maximalOne" description="Max minutes without activity allowed daily"/>   
            <!--{steepFollowing: [{date: '2017-06-09 14:54:53.0', value: 12}], lowFollowing:[], mediumFollowing:[], highFollowing:[], noActivityFollowing:[]}-->
            <!--Collected Data e.g. {steepFollowing: [{date: '2017-06-09 14:54:53.0', value: 12}], lowFollowing:[], mediumFollowing:[], highFollowing:[], noActivityFollowing:[]}"-->
            <AttributeDefinition id="phactpx" type="json" multiplicity="maximalOne" uiReference="linediagram" description="Execution Timeseries"/>                 
        </EntityDefinition>




        <!-- Case Definition -->
        <CaseDefinition id="MajorSurgery" description="Major Surgery" ownerPath="Owner" entityDefinitionId="CaseData">

            <SummarySectionDefinition id="Lace" description="Lace">            
                <SummaryParamDefinition path="Lace.lace17"/>
                <SummaryParamDefinition path="Lace.lace19"/>
            </SummarySectionDefinition>

            <SummarySectionDefinition id="Barthel" description="Barthel">    
                <SummaryParamDefinition path="Barthel.barthel11"/>
            </SummarySectionDefinition>

            <SummarySectionDefinition id="PhysicalActivity" description="Physical Activity">
                <SummaryParamDefinition path="PhysicalActivity.phactp1"/>
                <SummaryParamDefinition path="PhysicalActivity.phactp2"/>
                <SummaryParamDefinition path="PhysicalActivity.phactpx"/>
            </SummarySectionDefinition>

            <StageDefinition id="CaseIdentification" description="Case Identification" isMandatory="true" isRepeatable="false">        
                <HumanTaskDefinition id="SelectPatient" description="Select Patient" ownerPath="Owner" isMandatory="true" isRepeatable="false">                
                    <TaskParamDefinition path="Patient" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Owner" isReadOnly="false" isMandatory="true"/>
                </HumanTaskDefinition>
                <HumanTaskDefinition id="Lace" description="Lace" ownerPath="Owner" isMandatory="true" isRepeatable="false" entityDefinitionId="Lace" entityAttachPath="Lace">                
                    <SentryDefinition>
                        <precondition processDefinitionId="SelectPatient"/>
                    </SentryDefinition>
                    <TaskParamDefinition path="Lace.lace1" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace2" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace3" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace4" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace5" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace6" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace7" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace8" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace9" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace10" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace11" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace12" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace13" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace14" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace15" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace16" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Lace.lace17" isReadOnly="true" isMandatory="false"/>                
                    <TaskParamDefinition path="Lace.lace18" isReadOnly="false" isMandatory="true"/>                
                    <TaskParamDefinition path="Lace.lace19" isReadOnly="true" isMandatory="false"/>
                </HumanTaskDefinition>
            </StageDefinition>
        
            <StageDefinition id="CaseEvaluation" description="Case Evaluation" isMandatory="true" isRepeatable="true">  
                <SentryDefinition>
                    <precondition processDefinitionId="CaseIdentification"/>
                </SentryDefinition>
                <HumanTaskDefinition id="Barthel" description="Barthel" ownerPath="Owner" isMandatory="true" isRepeatable="false" entityDefinitionId="Barthel" entityAttachPath="Barthel">
                    <TaskParamDefinition path="Barthel.barthel1" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Barthel.barthel2" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Barthel.barthel3" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Barthel.barthel4" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Barthel.barthel5" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Barthel.barthel6" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Barthel.barthel7" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Barthel.barthel8" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Barthel.barthel9" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Barthel.barthel10" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="Barthel.barthel11" isReadOnly="false" isMandatory="false"/>
                </HumanTaskDefinition>
            </StageDefinition>

            <StageDefinition id="WorkplanDefinition" description="Workplan Definition" isMandatory="true" isRepeatable="true">  
                <SentryDefinition>
                    <precondition processDefinitionId="CaseEvaluation"/>
                </SentryDefinition>
                <HumanTaskDefinition id="PhysicalActivityPrescription" description="Physical Activity Prescription" ownerPath="Owner" isMandatory="true" isRepeatable="false" entityDefinitionId="PhysicalActivity" entityAttachPath="PhysicalActivity">
                    <TaskParamDefinition path="PhysicalActivity.phactp1" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="PhysicalActivity.phactp2" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="PhysicalActivity.phactp3" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="PhysicalActivity.phactp4" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="PhysicalActivity.phactp5" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="PhysicalActivity.phactp6" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="PhysicalActivity.phactp7" isReadOnly="false" isMandatory="true"/>                    
                </HumanTaskDefinition>
                <AutomatedTaskDefinition id="PhysicalActivityExecution" description="Physical Activity Execution" ownerPath="Owner" isMandatory="true" isRepeatable="false">
                    <SentryDefinition>
                        <precondition processDefinitionId="PhysicalActivityPrescription"/>
                    </SentryDefinition>
                    <HttpHookDefinition on="ENABLE" url="http://35.157.110.245:8081/v1/producer/point-to-point/sacm/prescription" method="POST"></HttpHookDefinition>
                    <TaskParamDefinition path="PhysicalActivity.phactp1" isReadOnly="true" isMandatory="false"/>
                    <TaskParamDefinition path="PhysicalActivity.phactp2" isReadOnly="true" isMandatory="false"/>
                    <TaskParamDefinition path="PhysicalActivity.phactp3" isReadOnly="true" isMandatory="false"/>
                    <TaskParamDefinition path="PhysicalActivity.phactp4" isReadOnly="true" isMandatory="false"/>
                    <TaskParamDefinition path="PhysicalActivity.phactp5" isReadOnly="true" isMandatory="false"/>
                    <TaskParamDefinition path="PhysicalActivity.phactp6" isReadOnly="true" isMandatory="false"/>
                    <TaskParamDefinition path="PhysicalActivity.phactp7" isReadOnly="true" isMandatory="false"/>
                    <TaskParamDefinition path="Patient" isReadOnly="false" isMandatory="false"/>
                    <TaskParamDefinition path="PhysicalActivity.phactpx" isReadOnly="false" isMandatory="true"/>
                </AutomatedTaskDefinition>
            </StageDefinition>
            
        </CaseDefinition>
    
    </Workspace>

    <!--This executes the case for testing-->
    <Execution>        
        <Action id="CompleteHumanTask" processId="SelectPatient">
            <TaskParam path="Patient"  userValue="connecare-patient"/>
            <TaskParam path="Owner"  userValue="connecare-clinician"/>
        </Action>
        <Action id="CompleteHumanTask" processId="Lace">
            <TaskParam path="Lace.lace1"  values="['2']"/>
            <TaskParam path="Lace.lace2"  values="['1']"/>
            <TaskParam path="Lace.lace3"  values="['1']"/>
            <TaskParam path="Lace.lace4"  values="['1']"/>
            <TaskParam path="Lace.lace5"  values="['1']"/>
            <TaskParam path="Lace.lace6"  values="['1']"/>
            <TaskParam path="Lace.lace7"  values="['2']"/>
            <TaskParam path="Lace.lace8"  values="['2']"/>
            <TaskParam path="Lace.lace9"  values="['2']"/>
            <TaskParam path="Lace.lace10" values="['2']"/>
            <TaskParam path="Lace.lace11" values="['2']"/>
            <TaskParam path="Lace.lace12" values="['3']"/>
            <TaskParam path="Lace.lace13" values="['3']"/>
            <TaskParam path="Lace.lace14" values="['0']"/>
            <TaskParam path="Lace.lace15" values="['4']"/>
            <TaskParam path="Lace.lace16" values="['6']"/>                
            <TaskParam path="Lace.lace18" values="['3']"/> 
        </Action>
        <Action id="CompleteHumanTask" processId="Barthel">
            <TaskParam path="Barthel.barthel1"  values="['5']"/>
            <TaskParam path="Barthel.barthel2"  values="['0']"/>
            <TaskParam path="Barthel.barthel3"  values="['0']"/>
            <TaskParam path="Barthel.barthel4"  values="['0']"/>
            <TaskParam path="Barthel.barthel5"  values="['5']"/>
            <TaskParam path="Barthel.barthel6"  values="['10']"/>
            <TaskParam path="Barthel.barthel7"  values="['5']"/>
            <TaskParam path="Barthel.barthel8"  values="['0']"/>
            <TaskParam path="Barthel.barthel9"  values="['15']"/>
            <TaskParam path="Barthel.barthel10" values="['10']"/>
        </Action>
        <Action id="CompleteHumanTask" processId="PhysicalActivityPrescription">
            <TaskParam path="PhysicalActivity.phactp1"  values="['2017-06-07 00:22:16.0']"/>
            <TaskParam path="PhysicalActivity.phactp2"  values="['2017-06-08 00:22:16.0']"/>
            <TaskParam path="PhysicalActivity.phactp3"  values="[150]"/>
            <TaskParam path="PhysicalActivity.phactp4"  values="[15]"/>
            <TaskParam path="PhysicalActivity.phactp5"  values="[5]"/>
            <TaskParam path="PhysicalActivity.phactp6"  values="[10]"/>
            <TaskParam path="PhysicalActivity.phactp7"  values="[5]"/>
        </Action>
        <Action id="CompleteAutomatedTask" processId="PhysicalActivityExecution">
            <TaskParam path="PhysicalActivity.phactpx"  values="[{'steepFollowing': [{'date': '2017-06-09 14:54:53.0', 'value': 12}], 'lowFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}], 'mediumFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}], 'highFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}], 'noActivityFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}]}]"/>
        </Action>
    </Execution>

</SACMDefinition>


