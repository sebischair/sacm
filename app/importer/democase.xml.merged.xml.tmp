<?xml version="1.0" encoding="UTF-8"?>
<!--
AttributeDefintion types = richstring, text, notype, json, link, string, mxl, longtext, image, boolean, number, enumeration or date

One entit defintion can only belong to one casedefintnion, meaning a entityDefinition can be used only once
-->
<SACMDefinition>

<!-- ######################################################################################################################################## -->
<!-- ####### Settings ################################################################################################################# -->
<!-- ######################################################################################################################################## -->

    <Settings 
        mayCreateWorksapces="['Administrators']"
        mayCreateGroups="['Administrators']" 
        mayCreateUsers="['Administrators', 'AssutaProfessionals']"
        mayEditUserDefinition="['Administrators', 'AssutaProfessionals']"/>

<!-- ######################################################################################################################################## -->
<!-- ####### UserDefinition ################################################################################################################# -->
<!-- ######################################################################################################################################## -->

    <UserDefinition>
        <AttributeDefinition id="patientnr" type="string" multiplicity="maximalOne" description="Patient number"/>
        <AttributeDefinition id="firstname" type="string" multiplicity="maximalOne" description="Firstname"/>
        <AttributeDefinition id="lastname" type="string" multiplicity="maximalOne" description="Lastname"/>       
        <AttributeDefinition id="birthdate" type="date" multiplicity="maximalOne" description="Birthdate"/>
        <DerivedAttributeDefinition id="age" expression="(Today - birthdate)/365" description="Age"/>
        <AttributeDefinition id="gender" type="enumeration" multiplicity="maximalOne" description="Gender">
            <EnumerationOption value="MALE" description="Male"/>
            <EnumerationOption value="FEMALE" description="Female"/>
            <EnumerationOption value="UNKNOWN" description="Prefer not to say"/>
        </AttributeDefinition>
        <AttributeDefinition id="maritalstatus" type="enumeration" multiplicity="maximalOne" description="Marital status">
            <EnumerationOption value="SINGLE" description="Single"/>
            <EnumerationOption value="MARRIED" description="Married"/>
            <EnumerationOption value="WIDOWED" description="Widowed"/>
            <EnumerationOption value="SEPARATED" description="Separated"/>
            <EnumerationOption value="DIVORCED" description="Divorced"/>
            <EnumerationOption value="UNKNOWN" description="Prefer not to say"/>
        </AttributeDefinition>
        <AttributeDefinition id="educationallevel" type="enumeration" multiplicity="maximalOne" description="Educational level">
            <EnumerationOption value="1" description="Early childhood"/>
            <EnumerationOption value="2" description="Primary education"/>
            <EnumerationOption value="3" description="Lower secondary education"/>
            <EnumerationOption value="4" description="Upper secondary education"/>
            <EnumerationOption value="5" description="Post-secondary non-tertiary education"/>
            <EnumerationOption value="6" description="Short-cycle tertiary education"/>
            <EnumerationOption value="7" description="Bachelor"/>
            <EnumerationOption value="8" description="Master"/>
            <EnumerationOption value="9" description="Doctoral"/>
            <EnumerationOption value="10" description="Prefer not to say"/>
        </AttributeDefinition>
        <AttributeDefinition id="culturallevel" type="enumeration" multiplicity="maximalOne" description="Socio-cultural level">
            <EnumerationOption value="LOW" description="Low"/>
            <EnumerationOption value="MEDIUM" description="Medium"/>
            <EnumerationOption value="HIGH" description="High"/>
            <EnumerationOption value="UNKNOWN" description="Prefer not to say"/>
        </AttributeDefinition>
        <AttributeDefinition id="phone" type="string" multiplicity="maximalOne" description="Phone"/>
        <AttributeDefinition id="mobile" type="string" multiplicity="maximalOne" description="Mobile"/>
        <AttributeDefinition id="language" type="enumeration" multiplicity="maximalOne" description="Language">
            <!-- ISO 2 Letter Language Codes -->
            <EnumerationOption value="EN" description="English"/>
            <EnumerationOption value="NL" description="Dutch"/>
            <EnumerationOption value="IW" description="Hebrew"/>
            <EnumerationOption value="ES" description="Spanish"/>
            <EnumerationOption value="CA" description="Catalan"/>
            <EnumerationOption value="RU" description="Russian"/>
        </AttributeDefinition>
    </UserDefinition>



  
<!-- ######################################################################################################################################## -->
<!-- ####### Assuta ######################################################################################################################### -->
<!-- ######################################################################################################################################## -->

    <Group id="AssutaPatients" staticId="2c9480845bee03e7015bfc056b070002" description="Patients">
        <Administrator principalId="Me"/>
        <Membership principalId="connecare-patient"/>
        <Membership principalId="user1"/>
        <Membership principalId="user2"/>
        <Membership principalId="user3"/>
    </Group>
    
    <Group id="AssutaProfessionals" description="Assuta Professionals">
        <Administrator principalId="Me"/>
        <Membership principalId="AssutaClinicians"/>
        <Membership principalId="AssutaCaseManagers"/>
        <Membership principalId="AssutaNurses"/>
        <Membership principalId="AssutaAnesthesiologists"/>
        <Membership principalId="AssutaPhysicians"/>
        <Membership principalId="AssutaPhysiotherapists"/>
        <Membership principalId="AssutaSocialworkers"/>
        <Membership principalId="AssutaPrimaryCareClinician"/>
        <Membership principalId="AssutaSecretary"/>
        <Membership principalId="AssutaSiteAdminstrators"/>
        <Membership principalId="AssutaResearchers"/>
    </Group>

    <Group id="AssutaClinicians" staticId="2c9480845bee03e7015bfc05a3fc0003" description="Clinicians">
        <Administrator principalId="Me"/>
        <Membership principalId="connecare-clinician"/>
        <Membership principalId="user5"/>
        <Membership principalId="user6"/>
        <Membership principalId="user7"/>
    </Group>

    <Group id="AssutaCaseManagers" staticId="2c9480885d1737ef015d7568f771000a" description="Case Managers">
        <Administrator principalId="Me"/>
        <Membership principalId="connecare-clinician"/>
        <Membership principalId="user5"/>
        <Membership principalId="user6"/>
        <Membership principalId="user7"/>
    </Group>

    <Group id="AssutaNurses" staticId="2c9480885d1737ef015d7568f796000b" description="Nurses">
        <Administrator principalId="Me"/>
    </Group>

    <Group id="AssutaAnesthesiologists" staticId="2c9480885d1737ef015d7568f7b5000c" description="Anesthesiologists">
        <Administrator principalId="Me"/>
    </Group>

    <Group id="AssutaPhysicians" staticId="2c9480885d1737ef015d7568f810000e" description="Physicians">
        <Administrator principalId="Me"/>
    </Group>

    <Group id="AssutaPhysiotherapists" staticId="2c9480885d1737ef015d7568f84c0010" description="Physiotherapists">
        <Administrator principalId="Me"/>
    </Group>

    <Group id="AssutaSocialworkers" staticId="2c9480885d1737ef015d7568f8a70013" description="Social workers">
        <Administrator principalId="Me"/>
    </Group>

    <Group id="AssutaPrimaryCareClinician" staticId="2c9480885d1737ef015d7568f8c30014" description="Primary Care Clinicians">
        <Administrator principalId="Me"/>
    </Group>

    <Group id="AssutaSecretary" description="Secretary">
        <Administrator principalId="Me"/>
    </Group>

    <Group id="AssutaSiteAdminstrators" staticId="2c9480845bee03e7015bfc113cfc0007" description="Site Adminstrators">
        <Administrator principalId="Me"/>
    </Group>

    <Group id="AssutaResearchers" description="Researchers">
        <Administrator principalId="Me"/>
    </Group>

    
    <Group staticId="2c9480885d1737ef015d74deeac90000" id="IsraelProfessionals" staticId="Israel" description="Israel Professional">
        <Administrator principalId="Me"/>
        <Membership principalId="IsraelAdminOfficer"/>
        <Membership principalId="IsraelAnesthesiologist"/>
        <Membership principalId="IsraelCaseManager"/>
        <Membership principalId="IsraelClinician"/>
        <Membership principalId="IsraelDataManager"/>
        <Membership principalId="IsraelLabTechnician"/>
        <Membership principalId="IsraelLocalPulmonologists"/>
        <Membership principalId="IsraelNurse"/>
        <Membership principalId="IsraelNutritionist"/>
        <Membership principalId="IsraelPhysician"/>
        <Membership principalId="IsraelPhysiotherapist"/>
        <Membership principalId="IsraelPrimaryCareClinician"/>
        <Membership principalId="IsraelPsychologist"/>
        <Membership principalId="IsraelRNST"/>
        <Membership principalId="IsraelSocialCareer"/>
        <Membership principalId="IsraelAdmin"/>
    </Group>
    <Group staticId="6c686573922811e7bd0c0242ac120002" id="IsraelAdminOfficer" description="Israel Admin Officer">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c68656e922811e7bd0c0242ac120002" id="IsraelAnesthesiologist" description="Israel Anesthesiologist">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c686564922811e7bd0c0242ac120002" id="IsraelCaseManager" description="Israel Case Manager">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c686555922811e7bd0c0242ac120002" id="IsraelClinician" description="Israel Clinician">
        <Administrator principalId="Me"/>
        <Membership principalId="millerc"/>
        <Membership principalId="evansn"/>
    </Group>
    <Group staticId="6c6865b2922811e7bd0c0242ac120002" id="IsraelDataManager" description="Israel Data Manager">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c6865a9922811e7bd0c0242ac120002" id="IsraelLabTechnician" description="Israel Lab Technician">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c6865ad922811e7bd0c0242ac120002" id="IsraelLocalPulmonologists" description="Israel Local Pulmonologists">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c686569922811e7bd0c0242ac120002" id="IsraelNurse" description="Israel Nurse">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c686592922811e7bd0c0242ac120002" id="IsraelNutritionist" description="Israel Nutritionist">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c686578922811e7bd0c0242ac120002" id="IsraelPhysician" description="Israel Physician">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c686589922811e7bd0c0242ac120002" id="IsraelPhysiotherapist" description="Israel Physiotherapist">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c6865a4922811e7bd0c0242ac120002" id="IsraelPrimaryCareClinician" description="Israel Primary Care Clinician">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c686597922811e7bd0c0242ac120002" id="IsraelPsychologist" description="Israel Psychologist">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c686580922811e7bd0c0242ac120002" id="IsraelRNST" description="Israel RNST">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c68659c922811e7bd0c0242ac120002" id="IsraelSocialCareer" description="Israel Social Career">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c68655c922811e7bd0c0242ac120002" id="IsraelAdmin" description="Israel Admin">
        <Administrator principalId="Me"/>
    </Group>
    <Group staticId="6c6864f0922811e7bd0c0242ac120002" id="IsraelPatient" description="Israel Patient">
        <Administrator principalId="Me"/>
        <Membership principalId="alexanderc"/>
        <Membership principalId="carlsonc"/>
        <Membership principalId="morrisonk"/>
    </Group>


    <User id="millerc" staticId="millerc" email="charles.miller@professionals.assuta.org">
        <Attribute attributeDefinitionId="firstname" values="['Charles']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Miller']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>
    <User id="evansn" staticId="evansn" email="nathan.evans@professionals.assuta.org">
        <Attribute attributeDefinitionId="firstname" values="['Nathan']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Evans']"/>        
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>

    <User id="alexanderc" staticId="alexanderc" email="crystal.alexander@patients.assuta.org">
        <Attribute attributeDefinitionId="firstname" values="['Crystal']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Alexander']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>
    <User id="carlsonc" staticId="carlsonc" email="carl.carlson@patients.assuta.org">
        <Attribute attributeDefinitionId="firstname" values="['Carl']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Carlson']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>
	<User id="morrisonk" staticId="morrisonk" email="kelly.morrison@patients.assuta.org">
        <Attribute attributeDefinitionId="firstname" values="['Kelly']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Morrison']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>

    <!--Usernames from https://uinames.com/
        https://uinames.com/api/?region=United%20States&amount=25&maxlen=25 -->

    <!-- Doctors -->
    <User id="connecare-clinician" staticId="2c9480845bee03e7015bfcad28990010" email="juanmanuel.fernandez@eurecat.org">
        <Attribute attributeDefinitionId="firstname" values="['Juan']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Fernandez']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>
    <User id="user5" staticId="ff8081815acbff63015acc019b690002" email="user5@mydomain.org">
        <Attribute attributeDefinitionId="firstname" values="['Troy']"/> 
        <Attribute attributeDefinitionId="lastname" values="['McClure']"/>        
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>
    <User id="user6" staticId="ff8081815acbff63015acc01e6130003" email="user6@mydomain.org">
        <Attribute attributeDefinitionId="firstname" values="['Maude']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Flanders']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>
    <User id="user7" staticId="ff8081815acbff63015acc021f890004" email="user7@mydomain.org">
        <Attribute attributeDefinitionId="firstname" values="['Carl']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Carlson']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>

    <!-- Patients -->
    <User id="connecare-patient" staticId="2c9480845bee03e7015bfcad7d0e0011" email="eloisa.vargiu@eurecat.org">
        <Attribute attributeDefinitionId="firstname" values="['Eloisa']"/> 
        <Attribute attributeDefinitionId="lastname" values="['vargiu']"/> 
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>
    <User id="user1" staticId="2c9880835ac881b5015ac8a2d7150011" email="user0@mydomain.org">
        <Attribute attributeDefinitionId="firstname" values="['Lionel']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Hutz']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>                 
    <User id="user2" staticId="2c9880835ac881b5015ac8a3c37c0012" email="user1@mydomain.org">
        <Attribute attributeDefinitionId="firstname" values="['Helen']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Lovejoy']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>       
    <User id="user3" staticId="2c9880835ac881b5015ac8a40e360013" email="user2@mydomain.org">
        <Attribute attributeDefinitionId="firstname" values="['Lenny']"/> 
        <Attribute attributeDefinitionId="lastname" values="['Leonard']"/>         
        <Attribute attributeDefinitionId="birthdate" values="['1980-03-08T15:36:21.000-0000']"/> 
    </User>          


    <!--Assuta Worksapce-->
    <Workspace id="Assuta" staticId="2c9480885d1737ef015d74deeac90000" description="Assuta">
        <Contributor principalId="AssutaProfessionals"/>
        <Administrator principalId="Me"/>
        <Client principalId="AssutaPatients"/>

        <EntityDefinition id="ICS2_CaseData" description="Case Data">
    <AttributeDefinition id="ICS2_Patient" type="Link.Users.AssutaPatients" description="Patient"/>
    <AttributeDefinition id="ICS2_Owner" type="Link.Users.AssutaCaseManagers" description="Owner"/>
    <AttributeDefinition id="ICS2_Inclusion" type="Link.EntityDefinition.ICS2_Inclusion" description="ריוני הכללה"/>      
	<AttributeDefinition id="ICS2_ThecTest" type="Link.EntityDefinition.ICS2_ThecTest" description="טכנולוגיות"/>   
	<AttributeDefinition id="ICS2_PatientConsent" type="Link.EntityDefinition.ICS2_PatientConsent" description="זיהוי מטופל"/>   
</EntityDefinition>

<EntityDefinition id="ICS2_Inclusion" description="ריוני הכללה">
    <AttributeDefinition id="basicAge" type="number" multiplicity="maximalOne" description="Basic Age">
        <EnumerationOption value="0" description="לא"/>
        <EnumerationOption value="1" description="כן"/>
    </AttributeDefinition> 
    <AttributeDefinition id="basicResidantual" type="enumeration" multiplicity="maximalOne" description="Basic Residantual">
        <EnumerationOption value="0" description="לא"/>
        <EnumerationOption value="1" description="כן"/>
    </AttributeDefinition> 
    <AttributeDefinition id="basicOperation" type="enumeration" multiplicity="maximalOne" description="BasicOperation">
        <EnumerationOption value="0" description="לא"/> <!--TODO check this-->
        <EnumerationOption value="1" description="כן"/> <!--TODO check this-->
    </AttributeDefinition>
    <AttributeDefinition id="basicASA" type="enumeration" multiplicity="maximalOne" description="Basic ASA">
        <EnumerationOption value="1" description="1"/> 
        <EnumerationOption value="2" description="2"/> 
        <EnumerationOption value="3" description="3"/> 
        <EnumerationOption value="4" description="4"/> 
        <EnumerationOption value="5" description="5"/> 
    </AttributeDefinition> 
    <AttributeDefinition id="basicChronical" type="enumeration" multiplicity="maximalOne" description="Basic Chronical">
        <EnumerationOption value="0" description="לא"/>
        <EnumerationOption value="1" description="כן"/>
    </AttributeDefinition> 
    <AttributeDefinition id="basicLanguegue" type="enumeration" multiplicity="maximalOne" description="Basic Languegue">
        <EnumerationOption value="0" description="לא"/>
        <EnumerationOption value="1" description="כן"/>
    </AttributeDefinition> 
</EntityDefinition>

<EntityDefinition id="ICS2_ThecTest" description="טכנולוגיות">
    <AttributeDefinition id="techPassword" type="enumeration" multiplicity="maximalOne" description="האם יש למטופל או למטפל העיקרי סיסמה לאתר Maccabi Online?">
        <EnumerationOption value="0" description="לשניהם אין"/>
        <EnumerationOption value="3" description="למטפל העיקרי בלבד יש"/>
        <EnumerationOption value="2" description="למטופל בלבד יש"/>
        <EnumerationOption value="1" description="לשניהם יש"/>
    </AttributeDefinition> 
    <AttributeDefinition id="techAbility" type="enumeration" multiplicity="maximalOne" description="האם למטפל העיקרי/למטופל יש ידע בסיסי בשימוש באפליקציות?">
        <EnumerationOption value="0" description="לא" en="No"/>
        <EnumerationOption value="1" description="כן" en="Yes"/>
    </AttributeDefinition> 
    <AttributeDefinition id="techInternet" type="enumeration" multiplicity="maximalOne" description="האם בביתו של המטופל קיימת גישה לאינטרנט אלחוטי?">
        <EnumerationOption value="0" description="לא" en="No"/>
        <EnumerationOption value="1" description="כן" en="Yes"/>
    </AttributeDefinition> 
</EntityDefinition>

<EntityDefinition id="ICS2_PatientConsent" description="זיהוי מטופל">
    <AttributeDefinition id="isConsent" type="enumeration" multiplicity="maximalOne" description="המטופל נתן את הסכמתו להשתתפות במחקר?">
        <EnumerationOption value="0" description="לא" en="No"/>
        <EnumerationOption value="1" description="כן" en="Yes"/>
    </AttributeDefinition> 
    <AttributeDefinition id="consentDate" type="date" multiplicity="maximalOne" description="תאריך קבלת הסכמת המטופל">
        <EnumerationOption value="0" description="לא" en="No"/>
        <EnumerationOption value="1" description="כן" en="Yes"/>
    </AttributeDefinition> 
</EntityDefinition>

<!--TODO Check Patients data gos here-->








<CaseDefinition id="ICS2" description="Israel CS2" ownerPath="ICS2_Owner" entityDefinitionId="ICS2_CaseData">

    <StageDefinition id="ICS2_CaseIdentification" description="זיהוי מטופל" isMandatory="true" isRepeatable="false">        
        <HumanTaskDefinition id="ICS2_SelectPatient" description="Select Patient" ownerPath="ICS2_Owner" isMandatory="true" isRepeatable="false">                
            <TaskParamDefinition path="ICS2_Patient" isReadOnly="false" isMandatory="true"/>
            <TaskParamDefinition path="ICS2_Owner" isReadOnly="false" isMandatory="true"/>
        </HumanTaskDefinition>
        <HumanTaskDefinition id="ICS2_Inclusion" description="Inclusion" ownerPath="ICS2_Owner" isMandatory="true" isRepeatable="false" entityDefinitionId="ICS2_Inclusion" entityAttachPath="ICS2_Inclusion">
			<SentryDefinition>
                <precondition processDefinitionId="ICS2_SelectPatient"/>
            </SentryDefinition>
            <TaskParamDefinition path="ICS2_Inclusion.basicAge" isReadOnly="false" isMandatory="true"/>
            <TaskParamDefinition path="ICS2_Inclusion.basicResidantual" isReadOnly="false" isMandatory="true"/>
			<TaskParamDefinition path="ICS2_Inclusion.basicOperation" isReadOnly="false" isMandatory="true"/>
			<TaskParamDefinition path="ICS2_Inclusion.basicASA" isReadOnly="false" isMandatory="true"/>
			<TaskParamDefinition path="ICS2_Inclusion.basicChronical" isReadOnly="false" isMandatory="true"/>
			<TaskParamDefinition path="ICS2_Inclusion.basicLanguegue" isReadOnly="false" isMandatory="true"/>
        </HumanTaskDefinition>
		<HumanTaskDefinition id="ICS2_ThecTest" description="Thec Test" ownerPath="ICS2_Owner" isMandatory="true" isRepeatable="false" entityDefinitionId="ICS2_ThecTest" entityAttachPath="ICS2_ThecTest">
			<SentryDefinition>
                <precondition processDefinitionId="ICS2_SelectPatient"/>
            </SentryDefinition>
            <TaskParamDefinition path="ICS2_Inclusion.techPassword" isReadOnly="false" isMandatory="true"/>
            <TaskParamDefinition path="ICS2_Inclusion.techAbility" isReadOnly="false" isMandatory="true"/>
			<TaskParamDefinition path="ICS2_Inclusion.techInternet" isReadOnly="false" isMandatory="true"/>
        </HumanTaskDefinition>
		<HumanTaskDefinition id="ICS2_PatientConsent" description="Patient Consent" ownerPath="ICS2_Owner" isMandatory="true" isRepeatable="false" entityDefinitionId="ICS2_PatientConsent" entityAttachPath="ICS2_PatientConsent">
			<SentryDefinition>
                <precondition processDefinitionId="ICS2_SelectPatient"/>
            </SentryDefinition>
            <TaskParamDefinition path="ICS2_PatientConsent.isConsent" isReadOnly="false" isMandatory="true"/>
            <TaskParamDefinition path="ICS2_PatientConsent.consentDate" isReadOnly="false" isMandatory="true"/>
        </HumanTaskDefinition>
    </StageDefinition>
    <StageDefinition id="ICS2_CaseEvaluation" description="Case Evaluation" isMandatory="true" isRepeatable="true">  
        <SentryDefinition>
            <precondition processDefinitionId="ICS2_CaseIdentification"/>
        </SentryDefinition>             
    </StageDefinition>

</CaseDefinition>  
            
    </Workspace>





<!-- ######################################################################################################################################## -->
<!-- ####### Execution ###################################################################################################################### -->
<!-- ######################################################################################################################################## -->

    <!--This executes the case for testing-->
    <Execution>        
        <Action id="CompleteHumanTask" processId="SelectPatient">
            <TaskParam path="Patient"  userValue="connecare-patient"/>
            <TaskParam path="Owner"  userValue="connecare-clinician"/>
        </Action>
        <Action id="CompleteHumanTask" processId="Lace">
            <TaskParam path="Lace.lace1"  values="['2']"/>
            <TaskParam path="Lace.lace2"  values="['1']"/>
            <TaskParam path="Lace.lace3"  values="['1']"/>
            <TaskParam path="Lace.lace4"  values="['1']"/>
            <TaskParam path="Lace.lace5"  values="['1']"/>
            <TaskParam path="Lace.lace6"  values="['1']"/>
            <TaskParam path="Lace.lace7"  values="['2']"/>
            <TaskParam path="Lace.lace8"  values="['2']"/>
            <TaskParam path="Lace.lace9"  values="['2']"/>
            <TaskParam path="Lace.lace10" values="['2']"/>
            <TaskParam path="Lace.lace11" values="['2']"/>
            <TaskParam path="Lace.lace12" values="['3']"/>
            <TaskParam path="Lace.lace13" values="['3']"/>
            <TaskParam path="Lace.lace14" values="['0']"/>
            <TaskParam path="Lace.lace15" values="['4']"/>
            <TaskParam path="Lace.lace16" values="['6']"/>                
            <TaskParam path="Lace.lace18" values="['3']"/> 
        </Action>
        <Action id="CompleteHumanTask" processId="Barthel">
            <TaskParam path="Barthel.barthel1"  values="['5']"/>
            <TaskParam path="Barthel.barthel2"  values="['0']"/>
            <TaskParam path="Barthel.barthel3"  values="['0']"/>
            <TaskParam path="Barthel.barthel4"  values="['0']"/>
            <TaskParam path="Barthel.barthel5"  values="['5']"/>
            <TaskParam path="Barthel.barthel6"  values="['10']"/>
            <TaskParam path="Barthel.barthel7"  values="['5']"/>
            <TaskParam path="Barthel.barthel8"  values="['0']"/>
            <TaskParam path="Barthel.barthel9"  values="['15']"/>
            <TaskParam path="Barthel.barthel10" values="['10']"/>
        </Action>
        <Action id="CompleteHumanTask" processId="PhysicalActivityPrescription">
            <TaskParam path="PhysicalActivity.phactp1"  values="['2017-06-19T15:36:21.000-0000']"/>
            <TaskParam path="PhysicalActivity.phactp2"  values="['2018-06-21T15:36:21.000-0000']"/>
            <TaskParam path="PhysicalActivity.phactp3"  values="[150]"/>
            <TaskParam path="PhysicalActivity.phactp4"  values="[15]"/>
            <TaskParam path="PhysicalActivity.phactp5"  values="[5]"/>
            <TaskParam path="PhysicalActivity.phactp6"  values="[10]"/>
            <TaskParam path="PhysicalActivity.phactp7"  values="[5]"/>
        </Action>
        <Action id="CompleteAutomatedTask" processId="PhysicalActivityExecution">
            <TaskParam path="PhysicalActivity.phactpx"  values="[{'stepsFollowing': [{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'lowFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'mediumFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'highFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'noActivityFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}]}]"/>
        </Action>
        <Action id="CreateAlert" 
            processId="PhysicalActivityExecution" 
            expireDate="2018-06-21T15:36:21.000-0000"
            text="Alert Message"
            data="{'alertType':'some type', 'application':'Run App', 'priorityLevel':'LOW', 'status':'ACT', 'paramName':'steps per day', 'paramValue':'12', 'minThreshold':'5',  'maxThreshold':'8'}">
        </Action>
        <Action id="CompleteHumanTask" processId="PatientMonitoryPrescription">
            <TaskParam path="PatientMonitory.pmp1_name"  values="['WEIGHT']"/>
            <TaskParam path="PatientMonitory.pmp2_alertmin"  values="[50]"/>
            <TaskParam path="PatientMonitory.pmp3_alertmax"  values="[150]"/>
            <TaskParam path="PatientMonitory.pmp4_alertfreq"  values="[2]"/>
            <TaskParam path="PatientMonitory.pmp5_alertfrequnit"  values="['DAYS']"/>
            <TaskParam path="PatientMonitory.pmp6_comments"  values="['Some random comment']"/>
            <TaskParam path="PatientMonitory.pmp7_freq"  values="[5]"/>
            <TaskParam path="PatientMonitory.pmp8_freqqunit"  values="['WEEKS']"/>
            <TaskParam path="PatientMonitory.pmp9_maxdelay"  values="[100]"/>
            <TaskParam path="PatientMonitory.pmp10_startdate"  values="['2017-06-09 14:54:53.0']"/>
            <TaskParam path="PatientMonitory.pmp11_enddate"  values="['2019-06-09 14:54:53.0']"/>
            <TaskParam path="PatientMonitory.pmp12_timeslot"  values="['BREAKFAST', 'DINNER', 'BEFORESLEEP']"/>
            <TaskParam path="PatientMonitory.pmp13_timehour"  values="[]"/>
        </Action>
        <!--
        <Action id="CompleteAutomatedTask" processId="PatientMonitoryExecution">
            <TaskParam path="PatientMonitory.pmpx"  values="[{'stepsFollowing': [{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'lowFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'mediumFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'highFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'noActivityFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}]}]"/>
        </Action>
        -->
    </Execution>

</SACMDefinition>


