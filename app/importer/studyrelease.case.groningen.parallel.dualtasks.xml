<SACMDefinition>
    <Group staticId="2c9480885d1737ef015d74deed260006" id="UmcgProfessionals"/>
    <Group staticId="a412ac82923a11e7bd0c0242ac120002" id="UmcgAdminOfficers"/>
    <Group staticId="a412ac7c923a11e7bd0c0242ac120002" id="UmcgAnesthesiologists"/>
    <Group staticId="a412ac70923a11e7bd0c0242ac120002" id="UmcgCaseManagers"/>
    <Group staticId="a412ac64923a11e7bd0c0242ac120002" id="UmcgClinicians"/>
    <Group staticId="a412acba923a11e7bd0c0242ac120002" id="UmcgDataManagers"/>
    <Group staticId="a412acb0923a11e7bd0c0242ac120002" id="UmcgLabTechnicians"/>
    <Group staticId="a412acb5923a11e7bd0c0242ac120002" id="UmcgLocalPulmonologists"/>
    <Group staticId="a412ac76923a11e7bd0c0242ac120002" id="UmcgNurses"/>
    <Group staticId="a412ac99923a11e7bd0c0242ac120002" id="UmcgNutritionists"/>
    <Group staticId="a412ac88923a11e7bd0c0242ac120002" id="UmcgPhysicians"/>
    <Group staticId="a412ac94923a11e7bd0c0242ac120002" id="UmcgPhysiotherapists"/>
    <Group staticId="a412aca9923a11e7bd0c0242ac120002" id="UmcgPrimaryCareClinicians"/>
    <Group staticId="a412ac9f923a11e7bd0c0242ac120002" id="UmcgPsychologists"/>
    <Group staticId="a412ac8e923a11e7bd0c0242ac120002" id="UmcgRNSTs"/>
    <Group staticId="a412aca4923a11e7bd0c0242ac120002" id="UmcgSocialCareers"/>
    <Group staticId="a412ac6b923a11e7bd0c0242ac120002" id="UmcgAdmins"/>
    <Group staticId="a412ac01923a11e7bd0c0242ac120002" id="UmcgPatients"/>

	<User staticId="2c940c085e765068015e76786adf0070" id="matthewr"/>
	<User staticId="2c940c085e765068015e767d84980080" id="schultzj"/>
    <User staticId="2c9480845bee03e7015bfcad28990010" id="michelf"/>

    <User staticId="2c940c085e765068015e7704c2540120" id="hopkinsc"/>
    <User staticId="2c940c085e765068015e77087a950130" id="hayesk"/>
	<User staticId="2c940c085e765068015e770b710b0140" id="williamst"/>
    <User staticId="2c9480845bee03e7015bfcad7d0e0011" id="vargiue"/>

    <Workspace staticId="2c9480885d1737ef015d74deed260006" id="Umcg">
        <EntityDefinition id="GCS2PDT_CaseData" description="Case Data">
            <AttributeDefinition id="GCS2PDT_Patient" type="Link.Users(UmcgPatients)" description="Patient" additionalDescription="some hint here"/>
            <AttributeDefinition id="GCS2PDT_Owner" type="Link.Users(UmcgProfessionals)" description="Owner"/>
            <AttributeDefinition id="GCS2PDT_EvaluationDueDate" type="date.after(TODAY)" description="Evaluation default due date"/>
            <AttributeDefinition id="GCS2PDT_WorkplanDueDate" type="date.after(TODAY)" description="Workplan default due date"/>
            <AttributeDefinition id="GCS2PDT_PhysicalActivity" type="Link.EntityDefinition.GCS2PDT_PhysicalActivity" description="Physical Activity"/>   
         </EntityDefinition>
       
        <EntityDefinition id="GCS2PDT_PhysicalActivity" description="Physical Activity">
            <AttributeDefinition id="phactp1" type="date.after(TODAY)" multiplicity="maximalOne" description="Start date"/>
            <AttributeDefinition id="phactp2" type="date.after(phactp1)" multiplicity="maximalOne" description="End date"/>       
            <AttributeDefinition id="phactp3" type="number.min(0).max(100000)" defaultValues="[10000]" multiplicity="maximalOne" description="Number of steps daily"/>       
            <AttributeDefinition id="phactp4" type="number.min(0).max(1440)" defaultValues="[60]" multiplicity="maximalOne" description="Minutes of low level activity daily"/>       
            <AttributeDefinition id="phactp5" type="number.min(0).max(1440)" defaultValues="[40]" multiplicity="maximalOne" description="Minutes of medium level activity daily"/>       
            <AttributeDefinition id="phactp6" type="number.min(0).max(1440)" defaultValues="[20]" multiplicity="maximalOne" description="Minutes of high level activity daily"/> 
            <AttributeDefinition id="phactp7" type="number.min(0).max(1440)" defaultValues="[240]" multiplicity="maximalOne" description="Max minutes without activity allowed daily"/>   
            <AttributeDefinition id="phactpx" type="json" multiplicity="maximalOne" uiReference="linediagram" description="Execution Timeseries"/>                 
        </EntityDefinition>
        
       
        <!-- Case Definition -->
        <CaseDefinition id="Parallel Testing DualTasks" description="Parallel Case Testing with DualTasks" ownerPath="GCS2PDT_Owner" clientPath="GCS2PDT_Patient" entityDefinitionId="GCS2PDT_CaseData">
                   
            <StageDefinition id="GCS2PDT_CaseIdentification" description="Case Identification" isMandatory="true" repeatable="ONCE">        
                <HumanTaskDefinition id="GCS2PDT_SelectPatient" description="Select Patient" ownerPath="GCS2PDT_Owner" isMandatory="true" repeatable="ONCE">                
                    <TaskParamDefinition path="GCS2PDT_Patient" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="GCS2PDT_Owner" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="GCS2PDT_EvaluationDueDate" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition path="GCS2PDT_WorkplanDueDate" isReadOnly="false" isMandatory="true"/>                    
                </HumanTaskDefinition>
            </StageDefinition>
       
            <StageDefinition id="GCS2PDT_Workplan" description="Workplan" isMandatory="true" repeatable="ONCE">
                <SentryDefinition>
                    <precondition processDefinitionId="GCS2PDT_CaseIdentification"/>
                </SentryDefinition>
                
                <DualTaskDefinition id="GCS2PDT_PhysicalActivity" description="Physical Activity" ownerPath="GCS2PDT_Owner" dueDatePath="GCS2PDT_WorkplanDueDate"  isMandatory="false" repeatable="PARALLEL" isManualActivation="true" entityDefinitionId="GCS2PDT_PhysicalActivity" entityAttachPath="GCS2PDT_PhysicalActivity">
                    <HttpHookDefinition on="ACTIVATEAUTOMATEDPART" url="http://integration-producer:8081/v1/producer/point-to-point/sacm/prescription" method="POST" failureMessage="Could not create prescription on Self-Management System"></HttpHookDefinition>
                    <HttpHookDefinition on="TERMINATE" url="http://integration-producer:8081/v1/producer/point-to-point/sacm/prescription/terminate" method="POST" failureMessage="Could not create Terminate Hook"></HttpHookDefinition>
                    <TaskParamDefinition part="HUMAN" path="GCS2PDT_PhysicalActivity.phactp1" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition part="HUMAN" path="GCS2PDT_PhysicalActivity.phactp2" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition part="HUMAN" path="GCS2PDT_PhysicalActivity.phactp3" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition part="HUMAN" path="GCS2PDT_PhysicalActivity.phactp4" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition part="HUMAN" path="GCS2PDT_PhysicalActivity.phactp5" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition part="HUMAN" path="GCS2PDT_PhysicalActivity.phactp6" isReadOnly="false" isMandatory="true"/>
                    <TaskParamDefinition part="HUMAN" path="GCS2PDT_PhysicalActivity.phactp7" isReadOnly="false" isMandatory="true"/>                    
                    <TaskParamDefinition part="AUTOMATED" path="GCS2PDT_PhysicalActivity.phactpx" isReadOnly="false" isMandatory="true"/>
                </DualTaskDefinition>

                <HumanTaskDefinition id="GCS2PDT_ChangeDueDates" description="Change Workplan Dates" ownerPath="GCS2PDT_Owner" isMandatory="false" isManualActivation="true" repeatable="ONCE">                
                    <TaskParamDefinition path="GCS2PDT_WorkplanDueDate" isReadOnly="false" isMandatory="true"/>                    
                </HumanTaskDefinition>

                <AutomatedTaskDefinition id="GCS2PDT_ChangeDueDates2" description="Change Workplan Dates Automated" ownerPath="GCS2PDT_Owner" isMandatory="false" isManualActivation="true" repeatable="ONCE">                
                    <TaskParamDefinition path="GCS2PDT_WorkplanDueDate" isReadOnly="false" isMandatory="true"/>                    
                </AutomatedTaskDefinition>
              
            </StageDefinition>

            <StageDefinition id="GCS2PDT_Discharge" description="Case Discharge" isMandatory="false" isManualActivation="true" repeatable="SERIAL">        
                <!--<HumanTaskDefinition id="GCS2PDT_ChangeDueDates" description="Change Workplan Dates" ownerPath="GCS2PDT_Owner" isMandatory="true" repeatable="ONCE">                
                    <TaskParamDefinition path="GCS2PDT_WorkplanDueDate" isReadOnly="false" isMandatory="true"/>                    
                </HumanTaskDefinition>-->
            </StageDefinition>

        </CaseDefinition>
    </Workspace>


<!-- ######################################################################################################################################## -->
<!-- ####### Execution ###################################################################################################################### -->
<!-- ######################################################################################################################################## -->

    <Execution>        
        <Action id="CompleteHumanTask" processId="GCS2PDT_SelectPatient">
            <TaskParam path="GCS2PDT_Patient"  userValue="vargiue"/>
            <TaskParam path="GCS2PDT_Owner"  userValue="michelf"/>
            <TaskParam path="GCS2PDT_EvaluationDueDate" values="['2017-12-26T00:00:00.000']"/>
            <TaskParam path="GCS2PDT_WorkplanDueDate" values="['2017-12-28T00:00:00.000']"/>
        </Action>
        <Action id="ActivateDualTask" processId="GCS2PDT_PhysicalActivity"/>
        <Action id="ActivateDualTask" processId="GCS2PDT_PhysicalActivity"/>
        <Action id="CompleteDualTaskHumanPart" processId="GCS2PDT_PhysicalActivity">
            <TaskParam path="GCS2PDT_PhysicalActivity.phactp1"  values="['2017-09-26T00:00:00.000']"/>
            <TaskParam path="GCS2PDT_PhysicalActivity.phactp2"  values="['2018-09-27T00:00:00.000']"/>
            <TaskParam path="GCS2PDT_PhysicalActivity.phactp3"  values="[10000]"/>
            <TaskParam path="GCS2PDT_PhysicalActivity.phactp4"  values="[15]"/>
            <TaskParam path="GCS2PDT_PhysicalActivity.phactp5"  values="[5]"/>
            <TaskParam path="GCS2PDT_PhysicalActivity.phactp6"  values="[10]"/>
            <TaskParam path="GCS2PDT_PhysicalActivity.phactp7"  values="[30]"/>
        </Action>
        <Action id="CompleteDualTaskAutomatedPart" processId="GCS2PDT_PhysicalActivity">
            <TaskParam path="GCS2PDT_PhysicalActivity.phactpx"  values="[{'stepsFollowing': [{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'lowFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'mediumFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'highFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}], 'noActivityFollowing':[{'date': '2017-06-09 14:54:53.0', 'value': 12}, {'date': '2017-06-10 14:54:53.0', 'value': 13}, {'date': '2017-06-11 14:54:53.0', 'value': 9}]}]"/>
        </Action>
        <Action id="ActivateStage" processId="GCS2PDT_Discharge"/>
        <Action id="CompleteStage" processId="GCS2PDT_Discharge"/>
        <Action id="ActivateStage" processId="GCS2PDT_Discharge"/>
        <Action id="TerminateStage" processId="GCS2PDT_Discharge" breakpoint="true"/>

    </Execution>

</SACMDefinition>